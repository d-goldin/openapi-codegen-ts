// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`gen-api-models - server should render a client 1`] = `
"/**
 * Do not edit this file it is auto-generated by io-utils / gen-api-models.
 * See https://github.com/pagopa/io-utils
 */
/* eslint-disable  */

import * as express from \\"express\\";

import * as t from \\"io-ts\\";
import { Option } from \\"fp-ts/lib/Option\\";

import { wrapRequestHandler } from \\"@pagopa/ts-commons/lib/request_middleware\\";
import * as r from \\"@pagopa/ts-commons/lib/responses\\";

import {
  AllMiddlewaresFailureResults,
  AllMiddlewaresResults,
  IRequestMiddlewares,
  withRequestMiddlewares
} from \\"./middleware_helpers\\";

import { RequiredQueryParamMiddleware } from \\"@pagopa/io-functions-commons/dist/src/utils/middlewares/required_query_param\\";
import { RequiredBodyPayloadMiddleware } from \\"@pagopa/io-functions-commons/dist/src/utils/middlewares/required_body_payload\\";
import { OptionalParamMiddleware } from \\"@pagopa/io-functions-commons/dist/src/utils/middlewares/optional_param\\";

import { Message } from \\"./Message\\";
import { OneOfTest } from \\"./OneOfTest\\";

// ---------------------------------------------------
// Inline parameters decoders and types
// ---------------------------------------------------

const cursorDecoder = t.string;
type cursorDecoder = t.TypeOf<typeof cursorDecoder>;

const requestIdDecoder = t.string;
type requestIdDecoder = t.TypeOf<typeof requestIdDecoder>;

// ---------------------------------------------------
// TestAuthBearer
// ---------------------------------------------------

type ITestAuthBearerPathParams = {};

type ITestAuthBearerQueryParams = {
  qr: string;

  // TODO optional query params
  // TODO optional query params
};

type ITestAuthBearerBodyParams = {};

export type ITestAuthBearerAllGeneratedParams = ITestAuthBearerPathParams &
  ITestAuthBearerQueryParams &
  ITestAuthBearerBodyParams;

export type TestAuthBearerSuccess =
  /* 200 */
  r.IResponseSuccessJson<undefined>;

export type TestAuthBearerFailures =
  /* 403 */
  r.IResponseErrorForbiddenNotAuthorized;

export type ITestAuthBearerRequestHandler<
  OtherParams extends Record<string, any> | Record<string, never>
> = (
  args: ITestAuthBearerAllGeneratedParams & OtherParams
) => Promise<TestAuthBearerSuccess | TestAuthBearerFailures>;

export const setupTestAuthBearerEndpoint = <
  OtherParams extends Record<string, any> | Record<string, never>,
  MiddlewareFailureKind extends string = string
>(
  app: express.Express,
  handler: ITestAuthBearerRequestHandler<OtherParams>,
  middlewares?: IRequestMiddlewares<
    OtherParams,
    MiddlewareFailureKind,
    OtherParams[keyof OtherParams]
  >
): void => {
  // Generated Middleware
  const generatedMiddlewares = {
    qr: RequiredQueryParamMiddleware(
      \\"qr\\",

      t.string
    )
  };

  let wrappedWithMiddlewares;
  if (middlewares) {
    const allMiddlewares = {
      ...middlewares,
      ...generatedMiddlewares
    };

    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | MiddlewareFailureKind
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      | AllMiddlewaresResults<typeof generatedMiddlewares>
      | AllMiddlewaresResults<typeof middlewares>,
      string,
      ITestAuthBearerAllGeneratedParams & OtherParams
    >(allMiddlewares)(handler);
  } else {
    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      AllMiddlewaresResults<typeof generatedMiddlewares>,
      string,
      ITestAuthBearerAllGeneratedParams
    >(generatedMiddlewares)(
      handler as (
        args: ITestAuthBearerAllGeneratedParams
      ) => Promise<TestAuthBearerSuccess | TestAuthBearerFailures>
    );
  }

  const handlerWithMiddlewares = wrapRequestHandler(wrappedWithMiddlewares);

  app.get(\\"/api/v1/test-auth-bearer\\", handlerWithMiddlewares);
};

// ---------------------------------------------------
// TestSimpleToken
// ---------------------------------------------------

type ITestSimpleTokenPathParams = {};

type ITestSimpleTokenQueryParams = {
  qr: string;

  // TODO optional query params
  // TODO optional query params
};

type ITestSimpleTokenBodyParams = {};

export type ITestSimpleTokenAllGeneratedParams = ITestSimpleTokenPathParams &
  ITestSimpleTokenQueryParams &
  ITestSimpleTokenBodyParams;

export type TestSimpleTokenSuccess =
  /* 200 */
  r.IResponseSuccessJson<undefined>;

export type TestSimpleTokenFailures =
  /* 403 */
  r.IResponseErrorForbiddenNotAuthorized;

export type ITestSimpleTokenRequestHandler<
  OtherParams extends Record<string, any> | Record<string, never>
> = (
  args: ITestSimpleTokenAllGeneratedParams & OtherParams
) => Promise<TestSimpleTokenSuccess | TestSimpleTokenFailures>;

export const setupTestSimpleTokenEndpoint = <
  OtherParams extends Record<string, any> | Record<string, never>,
  MiddlewareFailureKind extends string = string
>(
  app: express.Express,
  handler: ITestSimpleTokenRequestHandler<OtherParams>,
  middlewares?: IRequestMiddlewares<
    OtherParams,
    MiddlewareFailureKind,
    OtherParams[keyof OtherParams]
  >
): void => {
  // Generated Middleware
  const generatedMiddlewares = {
    qr: RequiredQueryParamMiddleware(
      \\"qr\\",

      t.string
    )
  };

  let wrappedWithMiddlewares;
  if (middlewares) {
    const allMiddlewares = {
      ...middlewares,
      ...generatedMiddlewares
    };

    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | MiddlewareFailureKind
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      | AllMiddlewaresResults<typeof generatedMiddlewares>
      | AllMiddlewaresResults<typeof middlewares>,
      string,
      ITestSimpleTokenAllGeneratedParams & OtherParams
    >(allMiddlewares)(handler);
  } else {
    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      AllMiddlewaresResults<typeof generatedMiddlewares>,
      string,
      ITestSimpleTokenAllGeneratedParams
    >(generatedMiddlewares)(
      handler as (
        args: ITestSimpleTokenAllGeneratedParams
      ) => Promise<TestSimpleTokenSuccess | TestSimpleTokenFailures>
    );
  }

  const handlerWithMiddlewares = wrapRequestHandler(wrappedWithMiddlewares);

  app.get(\\"/api/v1/test-simple-token\\", handlerWithMiddlewares);
};

// ---------------------------------------------------
// TestMultipleSuccess
// ---------------------------------------------------

type ITestMultipleSuccessPathParams = {};

type ITestMultipleSuccessQueryParams = {};

type ITestMultipleSuccessBodyParams = {};

export type ITestMultipleSuccessAllGeneratedParams = ITestMultipleSuccessPathParams &
  ITestMultipleSuccessQueryParams &
  ITestMultipleSuccessBodyParams;

export type TestMultipleSuccessSuccess =
  /* 200 */
  | r.IResponseSuccessJson<Message>
  /* 202 */
  | r.IResponseSuccessAccepted<undefined>;

export type TestMultipleSuccessFailures =
  /* 403 */
  | r.IResponseErrorForbiddenNotAuthorized

  /* 404 */
  | r.IResponseErrorNotFound;

export type ITestMultipleSuccessRequestHandler<
  OtherParams extends Record<string, any> | Record<string, never>
> = (
  args: ITestMultipleSuccessAllGeneratedParams & OtherParams
) => Promise<TestMultipleSuccessSuccess | TestMultipleSuccessFailures>;

export const setupTestMultipleSuccessEndpoint = <
  OtherParams extends Record<string, any> | Record<string, never>,
  MiddlewareFailureKind extends string = string
>(
  app: express.Express,
  handler: ITestMultipleSuccessRequestHandler<OtherParams>,
  middlewares?: IRequestMiddlewares<
    OtherParams,
    MiddlewareFailureKind,
    OtherParams[keyof OtherParams]
  >
): void => {
  // Generated Middleware
  const generatedMiddlewares = {};

  let wrappedWithMiddlewares;
  if (middlewares) {
    const allMiddlewares = {
      ...middlewares,
      ...generatedMiddlewares
    };

    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | MiddlewareFailureKind
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      | AllMiddlewaresResults<typeof generatedMiddlewares>
      | AllMiddlewaresResults<typeof middlewares>,
      string,
      ITestMultipleSuccessAllGeneratedParams & OtherParams
    >(allMiddlewares)(handler);
  } else {
    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      AllMiddlewaresResults<typeof generatedMiddlewares>,
      string,
      ITestMultipleSuccessAllGeneratedParams
    >(generatedMiddlewares)(
      handler as (
        args: ITestMultipleSuccessAllGeneratedParams
      ) => Promise<TestMultipleSuccessSuccess | TestMultipleSuccessFailures>
    );
  }

  const handlerWithMiddlewares = wrapRequestHandler(wrappedWithMiddlewares);

  app.get(\\"/api/v1/test-multiple-success\\", handlerWithMiddlewares);
};

// ---------------------------------------------------
// TestFileUpload
// ---------------------------------------------------

type ITestFileUploadPathParams = {};

type ITestFileUploadQueryParams = {};

type ITestFileUploadBodyParams = {};

export type ITestFileUploadAllGeneratedParams = ITestFileUploadPathParams &
  ITestFileUploadQueryParams &
  ITestFileUploadBodyParams;

export type TestFileUploadSuccess =
  /* 200 */
  r.IResponseSuccessJson<undefined>;

export type TestFileUploadFailures = never;

export type ITestFileUploadRequestHandler<
  OtherParams extends Record<string, any> | Record<string, never>
> = (
  args: ITestFileUploadAllGeneratedParams & OtherParams
) => Promise<TestFileUploadSuccess | TestFileUploadFailures>;

export const setupTestFileUploadEndpoint = <
  OtherParams extends Record<string, any> | Record<string, never>,
  MiddlewareFailureKind extends string = string
>(
  app: express.Express,
  handler: ITestFileUploadRequestHandler<OtherParams>,
  middlewares?: IRequestMiddlewares<
    OtherParams,
    MiddlewareFailureKind,
    OtherParams[keyof OtherParams]
  >
): void => {
  // Generated Middleware
  const generatedMiddlewares = {};

  let wrappedWithMiddlewares;
  if (middlewares) {
    const allMiddlewares = {
      ...middlewares,
      ...generatedMiddlewares
    };

    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | MiddlewareFailureKind
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      | AllMiddlewaresResults<typeof generatedMiddlewares>
      | AllMiddlewaresResults<typeof middlewares>,
      string,
      ITestFileUploadAllGeneratedParams & OtherParams
    >(allMiddlewares)(handler);
  } else {
    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      AllMiddlewaresResults<typeof generatedMiddlewares>,
      string,
      ITestFileUploadAllGeneratedParams
    >(generatedMiddlewares)(
      handler as (
        args: ITestFileUploadAllGeneratedParams
      ) => Promise<TestFileUploadSuccess | TestFileUploadFailures>
    );
  }

  const handlerWithMiddlewares = wrapRequestHandler(wrappedWithMiddlewares);

  app.post(\\"/api/v1/test-file-upload\\", handlerWithMiddlewares);
};

// ---------------------------------------------------
// TestResponseHeader
// ---------------------------------------------------

type ITestResponseHeaderPathParams = {};

type ITestResponseHeaderQueryParams = {};

type ITestResponseHeaderBodyParams = {};

export type ITestResponseHeaderAllGeneratedParams = ITestResponseHeaderPathParams &
  ITestResponseHeaderQueryParams &
  ITestResponseHeaderBodyParams;

export type TestResponseHeaderSuccess =
  /* 201 */
  r.IResponseSuccessRedirectToResource<Message, Message>;

export type TestResponseHeaderFailures =
  /* 500 */
  r.IResponseErrorInternal;

export type ITestResponseHeaderRequestHandler<
  OtherParams extends Record<string, any> | Record<string, never>
> = (
  args: ITestResponseHeaderAllGeneratedParams & OtherParams
) => Promise<TestResponseHeaderSuccess | TestResponseHeaderFailures>;

export const setupTestResponseHeaderEndpoint = <
  OtherParams extends Record<string, any> | Record<string, never>,
  MiddlewareFailureKind extends string = string
>(
  app: express.Express,
  handler: ITestResponseHeaderRequestHandler<OtherParams>,
  middlewares?: IRequestMiddlewares<
    OtherParams,
    MiddlewareFailureKind,
    OtherParams[keyof OtherParams]
  >
): void => {
  // Generated Middleware
  const generatedMiddlewares = {};

  let wrappedWithMiddlewares;
  if (middlewares) {
    const allMiddlewares = {
      ...middlewares,
      ...generatedMiddlewares
    };

    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | MiddlewareFailureKind
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      | AllMiddlewaresResults<typeof generatedMiddlewares>
      | AllMiddlewaresResults<typeof middlewares>,
      string,
      ITestResponseHeaderAllGeneratedParams & OtherParams
    >(allMiddlewares)(handler);
  } else {
    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      AllMiddlewaresResults<typeof generatedMiddlewares>,
      string,
      ITestResponseHeaderAllGeneratedParams
    >(generatedMiddlewares)(
      handler as (
        args: ITestResponseHeaderAllGeneratedParams
      ) => Promise<TestResponseHeaderSuccess | TestResponseHeaderFailures>
    );
  }

  const handlerWithMiddlewares = wrapRequestHandler(wrappedWithMiddlewares);

  app.get(\\"/api/v1/test-response-header\\", handlerWithMiddlewares);
};

// ---------------------------------------------------
// TestParameterWithReference
// ---------------------------------------------------

type ITestParameterWithReferencePathParams = {};

type ITestParameterWithReferenceQueryParams = {};

type ITestParameterWithReferenceBodyParams = {
  createdMessage: Message;
};

export type ITestParameterWithReferenceAllGeneratedParams = ITestParameterWithReferencePathParams &
  ITestParameterWithReferenceQueryParams &
  ITestParameterWithReferenceBodyParams;

export type TestParameterWithReferenceSuccess =
  /* 201 */
  r.IResponseSuccessRedirectToResource<undefined, undefined>;

export type TestParameterWithReferenceFailures =
  /* 500 */
  r.IResponseErrorInternal;

export type ITestParameterWithReferenceRequestHandler<
  OtherParams extends Record<string, any> | Record<string, never>
> = (
  args: ITestParameterWithReferenceAllGeneratedParams & OtherParams
) => Promise<
  TestParameterWithReferenceSuccess | TestParameterWithReferenceFailures
>;

export const setupTestParameterWithReferenceEndpoint = <
  OtherParams extends Record<string, any> | Record<string, never>,
  MiddlewareFailureKind extends string = string
>(
  app: express.Express,
  handler: ITestParameterWithReferenceRequestHandler<OtherParams>,
  middlewares?: IRequestMiddlewares<
    OtherParams,
    MiddlewareFailureKind,
    OtherParams[keyof OtherParams]
  >
): void => {
  // Generated Middleware
  const generatedMiddlewares = {
    createdMessage: RequiredBodyPayloadMiddleware(Message)
  };

  let wrappedWithMiddlewares;
  if (middlewares) {
    const allMiddlewares = {
      ...middlewares,
      ...generatedMiddlewares
    };

    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | MiddlewareFailureKind
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      | AllMiddlewaresResults<typeof generatedMiddlewares>
      | AllMiddlewaresResults<typeof middlewares>,
      string,
      ITestParameterWithReferenceAllGeneratedParams & OtherParams
    >(allMiddlewares)(handler);
  } else {
    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      AllMiddlewaresResults<typeof generatedMiddlewares>,
      string,
      ITestParameterWithReferenceAllGeneratedParams
    >(generatedMiddlewares)(
      handler as (
        args: ITestParameterWithReferenceAllGeneratedParams
      ) => Promise<
        TestParameterWithReferenceSuccess | TestParameterWithReferenceFailures
      >
    );
  }

  const handlerWithMiddlewares = wrapRequestHandler(wrappedWithMiddlewares);

  app.post(\\"/api/v1/test-parameter-with-reference\\", handlerWithMiddlewares);
};

// ---------------------------------------------------
// TestParameterWithDash
// ---------------------------------------------------

type ITestParameterWithDashPathParams = {
  pathParam: Option<string>;
};

type ITestParameterWithDashQueryParams = {
  // TODO optional query params
  // TODO optional query params
};

type ITestParameterWithDashBodyParams = {};

export type ITestParameterWithDashAllGeneratedParams = ITestParameterWithDashPathParams &
  ITestParameterWithDashQueryParams &
  ITestParameterWithDashBodyParams;

export type TestParameterWithDashSuccess =
  /* 200 */
  r.IResponseSuccessJson<undefined>;

export type TestParameterWithDashFailures =
  /* 500 */
  r.IResponseErrorInternal;

export type ITestParameterWithDashRequestHandler<
  OtherParams extends Record<string, any> | Record<string, never>
> = (
  args: ITestParameterWithDashAllGeneratedParams & OtherParams
) => Promise<TestParameterWithDashSuccess | TestParameterWithDashFailures>;

export const setupTestParameterWithDashEndpoint = <
  OtherParams extends Record<string, any> | Record<string, never>,
  MiddlewareFailureKind extends string = string
>(
  app: express.Express,
  handler: ITestParameterWithDashRequestHandler<OtherParams>,
  middlewares?: IRequestMiddlewares<
    OtherParams,
    MiddlewareFailureKind,
    OtherParams[keyof OtherParams]
  >
): void => {
  // Generated Middleware
  const generatedMiddlewares = {
    pathParam: OptionalParamMiddleware(
      \\"pathParam\\",

      t.string
    )
  };

  let wrappedWithMiddlewares;
  if (middlewares) {
    const allMiddlewares = {
      ...middlewares,
      ...generatedMiddlewares
    };

    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | MiddlewareFailureKind
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      | AllMiddlewaresResults<typeof generatedMiddlewares>
      | AllMiddlewaresResults<typeof middlewares>,
      string,
      ITestParameterWithDashAllGeneratedParams & OtherParams
    >(allMiddlewares)(handler);
  } else {
    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      AllMiddlewaresResults<typeof generatedMiddlewares>,
      string,
      ITestParameterWithDashAllGeneratedParams
    >(generatedMiddlewares)(
      handler as (
        args: ITestParameterWithDashAllGeneratedParams
      ) => Promise<TestParameterWithDashSuccess | TestParameterWithDashFailures>
    );
  }

  const handlerWithMiddlewares = wrapRequestHandler(wrappedWithMiddlewares);

  app.get(
    \\"/api/v1/test-parameter-with-dash/:pathParam\\",
    handlerWithMiddlewares
  );
};

// ---------------------------------------------------
// TestParameterWithDashAnUnderscore
// ---------------------------------------------------

type ITestParameterWithDashAnUnderscorePathParams = {
  pathParam: Option<string>;
};

type ITestParameterWithDashAnUnderscoreQueryParams = {
  // TODO optional query params
  // TODO optional query params
};

type ITestParameterWithDashAnUnderscoreBodyParams = {};

export type ITestParameterWithDashAnUnderscoreAllGeneratedParams = ITestParameterWithDashAnUnderscorePathParams &
  ITestParameterWithDashAnUnderscoreQueryParams &
  ITestParameterWithDashAnUnderscoreBodyParams;

export type TestParameterWithDashAnUnderscoreSuccess =
  /* 200 */
  r.IResponseSuccessJson<undefined>;

export type TestParameterWithDashAnUnderscoreFailures =
  /* 500 */
  r.IResponseErrorInternal;

export type ITestParameterWithDashAnUnderscoreRequestHandler<
  OtherParams extends Record<string, any> | Record<string, never>
> = (
  args: ITestParameterWithDashAnUnderscoreAllGeneratedParams & OtherParams
) => Promise<
  | TestParameterWithDashAnUnderscoreSuccess
  | TestParameterWithDashAnUnderscoreFailures
>;

export const setupTestParameterWithDashAnUnderscoreEndpoint = <
  OtherParams extends Record<string, any> | Record<string, never>,
  MiddlewareFailureKind extends string = string
>(
  app: express.Express,
  handler: ITestParameterWithDashAnUnderscoreRequestHandler<OtherParams>,
  middlewares?: IRequestMiddlewares<
    OtherParams,
    MiddlewareFailureKind,
    OtherParams[keyof OtherParams]
  >
): void => {
  // Generated Middleware
  const generatedMiddlewares = {
    pathParam: OptionalParamMiddleware(
      \\"pathParam\\",

      t.string
    )
  };

  let wrappedWithMiddlewares;
  if (middlewares) {
    const allMiddlewares = {
      ...middlewares,
      ...generatedMiddlewares
    };

    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | MiddlewareFailureKind
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      | AllMiddlewaresResults<typeof generatedMiddlewares>
      | AllMiddlewaresResults<typeof middlewares>,
      string,
      ITestParameterWithDashAnUnderscoreAllGeneratedParams & OtherParams
    >(allMiddlewares)(handler);
  } else {
    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      AllMiddlewaresResults<typeof generatedMiddlewares>,
      string,
      ITestParameterWithDashAnUnderscoreAllGeneratedParams
    >(generatedMiddlewares)(
      handler as (
        args: ITestParameterWithDashAnUnderscoreAllGeneratedParams
      ) => Promise<
        | TestParameterWithDashAnUnderscoreSuccess
        | TestParameterWithDashAnUnderscoreFailures
      >
    );
  }

  const handlerWithMiddlewares = wrapRequestHandler(wrappedWithMiddlewares);

  app.get(
    \\"/api/v1/test-parameter-with-dash-and_underscore/:pathParam\\",
    handlerWithMiddlewares
  );
};

// ---------------------------------------------------
// TestWithTwoParams
// ---------------------------------------------------

type ITestWithTwoParamsPathParams = {
  firstParam: Option<string>;

  secondParam: Option<string>;
};

type ITestWithTwoParamsQueryParams = {};

type ITestWithTwoParamsBodyParams = {};

export type ITestWithTwoParamsAllGeneratedParams = ITestWithTwoParamsPathParams &
  ITestWithTwoParamsQueryParams &
  ITestWithTwoParamsBodyParams;

export type TestWithTwoParamsSuccess =
  /* 200 */
  r.IResponseSuccessJson<undefined>;

export type TestWithTwoParamsFailures =
  /* 500 */
  r.IResponseErrorInternal;

export type ITestWithTwoParamsRequestHandler<
  OtherParams extends Record<string, any> | Record<string, never>
> = (
  args: ITestWithTwoParamsAllGeneratedParams & OtherParams
) => Promise<TestWithTwoParamsSuccess | TestWithTwoParamsFailures>;

export const setupTestWithTwoParamsEndpoint = <
  OtherParams extends Record<string, any> | Record<string, never>,
  MiddlewareFailureKind extends string = string
>(
  app: express.Express,
  handler: ITestWithTwoParamsRequestHandler<OtherParams>,
  middlewares?: IRequestMiddlewares<
    OtherParams,
    MiddlewareFailureKind,
    OtherParams[keyof OtherParams]
  >
): void => {
  // Generated Middleware
  const generatedMiddlewares = {
    firstParam: OptionalParamMiddleware(
      \\"firstParam\\",

      t.string
    ),

    secondParam: OptionalParamMiddleware(
      \\"secondParam\\",

      t.string
    )
  };

  let wrappedWithMiddlewares;
  if (middlewares) {
    const allMiddlewares = {
      ...middlewares,
      ...generatedMiddlewares
    };

    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | MiddlewareFailureKind
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      | AllMiddlewaresResults<typeof generatedMiddlewares>
      | AllMiddlewaresResults<typeof middlewares>,
      string,
      ITestWithTwoParamsAllGeneratedParams & OtherParams
    >(allMiddlewares)(handler);
  } else {
    wrappedWithMiddlewares = withRequestMiddlewares<
      | \\"IResponseErrorValidation\\"
      | AllMiddlewaresFailureResults<typeof generatedMiddlewares>,
      AllMiddlewaresResults<typeof generatedMiddlewares>,
      string,
      ITestWithTwoParamsAllGeneratedParams
    >(generatedMiddlewares)(
      handler as (
        args: ITestWithTwoParamsAllGeneratedParams
      ) => Promise<TestWithTwoParamsSuccess | TestWithTwoParamsFailures>
    );
  }

  const handlerWithMiddlewares = wrapRequestHandler(wrappedWithMiddlewares);

  app.get(
    \\"/api/v1/test-two-path-params/:firstParam/:secondParam\\",
    handlerWithMiddlewares
  );
};
"
`;
